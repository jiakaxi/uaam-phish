defaults:
  - logger: csv

seed: 42
protocol: random

data:
  csv_path: data/processed/master_v2.csv
  train_csv: data/processed/url_train_v2.csv
  val_csv: data/processed/url_val_v2.csv
  test_csv: data/processed/url_test_v2.csv
  num_workers: 0  # Windows优化：单进程避免多进程开销
  text_col: url_text
  label_col: label
  timestamp_col: timestamp
  brand_col: brand
  source_col: source
  min_len: 1
  batch_format: tuple

model:
  vocab_size: 128
  pad_id: 0
  max_len: 256
  embedding_dim: 128
  hidden_dim: 128
  num_layers: 2
  bidirectional: true
  dropout: 0.1
  proj_dim: 256
  num_classes: 2
  label_map:
    0: legitimate
    1: phishing

train:
  epochs: 50
  batch_size: 64
  lr: 0.0001
  patience: 5
  limit_train_batches: 1.0
  limit_val_batches: 1.0

metrics:
  classification: [accuracy, auroc, f1]
  average: macro
  reliability: [ece, nll]
  reliability_bins: 15
  dist:
    sync_metrics: false

logging:
  save_curves: true
  save_tables: true
  # 项目文档自动追加配置
  auto_append_docs: false  # 设置为 true 启用自动追加
  append_to_summary: true   # 追加到 FINAL_SUMMARY_CN.md
  append_to_changes: false  # 追加到 CHANGES_SUMMARY.md（可选）

outputs:
  dir_root: experiments/
  roc_fname: roc_{protocol}.png
  calib_fname: calib_{protocol}.png
  split_table_fname: splits_{protocol}.csv
  metrics_fname: metrics_{protocol}.json
